# Немного инфы про Git и commit`ы  

Прежде чем говорить про коммиты, статусы коммитов, хэши, логи, следует вспомнить про то, что же такое Git, репозиторий и как его создать

## Что такое Git?  
`Git` - это система контроля версий, основная задача которой хранить состояние проекта, за которым следит Git, во время всего этапа его разработки, чтобы в любой момент, при обнаружении бага, можно было откатить проект на предыдущую версию.  

`Репозиторий` - это некая область памяти в Git, где хранятся данные, файлы, папки, код, и прочие объекты хранения данных, за которыми этот самый Git и следит.


> # Итак, с Git`ом и репозиторием более-менее всё понятно. Но назревает вполне ожидаемый вопрос  

> Каким образом система контроля версий запоминает все этапы разработки нашего проекта?


### Для ответа на этот вопрос достаточно ответить на вопрос "*Что такое `commit`?*"

**Commit** - это ~снимок~ запись текущего состояния изменений проекта в памяти Git`а, которая находится в загадочной папке .git внутри репозитория. Их можно делать в неограниченном количестве внутри проекта

> Тут очень важное уточнение, информация о каждом коммите хранится в виде его хэша.  

## Log  

Вот я сделал после всего текста выше свой первый коммит и консоль git bash, после команды `git log`, вывела мне следущую информацию о моём коммите:

```git bash
$ git log
commit 2c7b9d05328df6317bf78bcffda6ade4e0435d94 (HEAD -> main)
Author: Daniil Kuksar <dan.kuksar@yandex.ru>
Date:   Fri May 10 23:42:22 2024 +0300

    добавить вводную информацию в README (Git, репозиторий, что такое коммит)

```

### Итак, разберемся, что же все это значит
- commit <непонятные цифры с буквами> - это хэш нашего коммита, который получился в результате работы хэш-функции SHA-1 (Безопасный алгорит хэширования, но знать как он работает, не обязательно, но что знать стоит - это ..
	- .. если хеш получить дважды для одного и того же набора входных данных, то результат будет гарантированно одинаковый;
	- .. если хоть что-то в исходных данных поменяется (хотя бы один символ), то хеш тоже изменится (при чём сильно).
- Author - в комментариях, думаю, не нуждается
- Date - тоже не нуждается
- <сообщение коммиита> - текст, который я добавил в поле `git commit -m <текст>` своего репозитория. Про оформление этого сообщения чуть позже.

> Если вы были достаточно внимательны, то могли заметить, что я ничего не сказал про строчку `(HEAD -> main)`. А всё потому, что я лольнул.  


## HEAD  
> Ну тут всё изи, лол (кек)  

Файл HEAD (англ. «голова», «головной») — один из служебных файлов папки .git. Он указывает на коммит, который сделан последним (то есть на самый новый).  

То есть строчка `(HEAD -> main)` означает, что коммит с этим хэшем - последний в ветке. В нашем случае, ветка - главная (но это необязательно)

> Если вы этого не поняли что я написал, то стоит почитать азбуку..  


## Статусы файлов

Итак, тут уже всё интереснее, но так же нет никаких трудностей.

- `Untracked`. Файл только что создали. Git ещё не отслеживает его содержимое;
- `Tracked`. Все файлы, в которых Git так или иначе отслеживает изменения. Сопровождается командой `git commit <имя файла(ов)>`, либо `git add <имя файла / папки>`. Состояние `tracked` довольно широкое по смыслу - в него попадают такие состояния, как:
	- Staged (Indexed или Index) - промежуточная область, куда попадают файлы, `явно указанные` в параметрах команды `git add <имя файла / папки>`;
	- Modified. Файл, за которым следит Git, был как-либо изменён. Чтобы закомитить изменённый файл, его заново нужно добавить в состояние `Staged`;  


# Комментарии к коммитам

> Это тот самый текст, который указывается `git commit -m "<ТУТ>"`
	
## Существует два основных правила, которых следует придерживаться при написании комментария. Сообщение должно быть:
- относительно коротким, чтобы его было легко прочитать;
- информативным.

> Хороший, чистый код с ужасными сообщениями в коммитах, это как Путин без трона. Извините, не удержался.

## Стили оформления

Зачем? Хороший вопрос. Ниже приведён упрощённый лог коммитов этого текста, прошу ознакомиться.

```git bash
$ git log --oneline
6704280 (HEAD -> main, origin/main) добавить статью про статусы файлов в Git
ebac96d добавить информацию про HEAD в README
3526422 обновить статью про log в README.md
2c7b9d0 добавить вводную информацию в README (Git, репозиторий, что такое коммит)
```
Можно сразу заметить, что использование единного стиля написания значительно упрощяет чтение коммитов. А теперь представьте, что таких коммитов не 4, а 400? Я думаю с этим всё ясно.

Теперь подробнее поговорим про стили.

### Корпоративный

Во многих компаниях применяется Jira — система для организации проектов и задач. У каждой задачи в Jira есть идентификатор из нескольких заглавных латинских букв и номера. Например, `LGS-239` значит, что это *239239-я задача в проекте LGS* (сокращение от англ. logistics — «логистика»).

```git bash
$ git commit -m "LGS-239: Дополнить список пасхалок новыми числами"
```
Требование о наличии Jira-ID обычно строгое: оно позволяет автоматически связывать коммиты с задачами и проектами.

### Conventional Commits

Conventional Commits предлагает такой формат коммита: `<type>: <сообщение>`. Первая часть `type` — это *тип изменений*. Таких типов достаточно много. Вот два примера:

- `feat` (сокращение от англ. feature) — для новой функциональности;
- `fix` — для исправленных ошибок.

**Например, сообщение может быть таким.**
```git bash
git commit -m "feat: добавить подсчёт суммы заказов за неделю"
```

### GitHub-стиль

GitHub можно использовать для ведения *списка задач* проекта.  
Если коммит «решает» какую-то задачу, то в его сообщении удобно указывать ссылку на неё. Для этого в любом месте сообщения нужно указать `#<номер задачи>`. Например, вот так.  

```git bash
$ git commit -m "Исправить #334, добавить график температуры"
```
> В таком случае GitHub свяжет коммит и задачу.